{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport var authReducer = function authReducer(state, action) {\n  switch (action.type) {\n    case \"addError\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        user: null,\n        status: 'unauthenticated',\n        token: null,\n        errorMessage: action.payload\n      });\n\n    case \"removeError\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        errorMessage: ''\n      });\n\n    case \"signUp\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        status: 'authenticated',\n        token: action.payload.token,\n        user: action.payload.user\n      });\n\n    case \"logout\":\n    case \"notAuthenticated\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        status: 'unauthenticated',\n        token: null,\n        user: null\n      });\n\n    default:\n      return state;\n  }\n\n  return state;\n};","map":{"version":3,"sources":["C:/Users/Memo/Documents/TicsExpo/TicsExpo/src/context/AuthReducer.tsx"],"names":["authReducer","state","action","type","user","status","token","errorMessage","payload"],"mappings":";;;;;;AAkBA,OAAO,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAmBC,MAAnB,EAAqD;AAC5E,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,UAAL;AACI,6CACOF,KADP;AAEIG,QAAAA,IAAI,EAAE,IAFV;AAGIC,QAAAA,MAAM,EAAE,iBAHZ;AAIIC,QAAAA,KAAK,EAAE,IAJX;AAKIC,QAAAA,YAAY,EAAEL,MAAM,CAACM;AALzB;;AAOJ,SAAK,aAAL;AACI,6CACOP,KADP;AAEIM,QAAAA,YAAY,EAAE;AAFlB;;AAIJ,SAAK,QAAL;AACI,6CACON,KADP;AAEII,QAAAA,MAAM,EAAE,eAFZ;AAGIC,QAAAA,KAAK,EAAEJ,MAAM,CAACM,OAAP,CAAeF,KAH1B;AAIIF,QAAAA,IAAI,EAAEF,MAAM,CAACM,OAAP,CAAeJ;AAJzB;;AAMJ,SAAK,QAAL;AACA,SAAK,kBAAL;AACI,6CACOH,KADP;AAEII,QAAAA,MAAM,EAAE,iBAFZ;AAGIC,QAAAA,KAAK,EAAE,IAHX;AAIIF,QAAAA,IAAI,EAAE;AAJV;;AAMJ;AACI,aAAOH,KAAP;AA9BR;;AAgCA,SAAOA,KAAP;AACH,CAlCM","sourcesContent":["import { Usuario } from \"../interfaces/UsuarioInterface\";\r\n\r\n\r\nexport interface AuthState{\r\n    status: 'cheking' | 'authenticated' | 'unauthenticated';\r\n    token: string|null;\r\n    errorMessage: string;\r\n    user: Usuario|null;\r\n}\r\n\r\ntype AuthAction = \r\n    | { type: 'signUp', payload: {token: string, user: Usuario} }\r\n    | { type: 'addError', payload: string }\r\n    | { type: 'removeError' }\r\n    | { type:'notAuthenticated'}\r\n    | { type: 'logout'}\r\n\r\n\r\nexport const authReducer = (state: AuthState, action: AuthAction): AuthState => {\r\n    switch (action.type) {\r\n        case \"addError\":\r\n            return {\r\n                ...state,\r\n                user: null,\r\n                status: 'unauthenticated',\r\n                token: null,\r\n                errorMessage: action.payload\r\n            };\r\n        case \"removeError\":\r\n            return {\r\n                ...state,\r\n                errorMessage: ''\r\n            };\r\n        case \"signUp\":\r\n            return {\r\n                ...state,\r\n                status: 'authenticated',\r\n                token: action.payload.token,\r\n                user: action.payload.user\r\n            };\r\n        case \"logout\":\r\n        case \"notAuthenticated\":\r\n            return {\r\n                ...state,\r\n                status: 'unauthenticated',\r\n                token: null,\r\n                user: null\r\n            };\r\n        default:\r\n            return state;\r\n        }\r\n    return state;\r\n};"]},"metadata":{},"sourceType":"module"}
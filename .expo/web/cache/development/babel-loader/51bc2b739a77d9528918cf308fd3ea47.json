{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useEffect, useState } from 'react';\nimport * as Location from 'expo-location';\nexport var useLocation = function useLocation() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      location = _useState2[0],\n      setLocation = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMsg = _useState4[0],\n      setErrorMsg = _useState4[1];\n\n  var getLocation = function getLocation() {\n    var _await$Location$reque, status, location;\n\n    return _regeneratorRuntime.async(function getLocation$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n          case 2:\n            _await$Location$reque = _context.sent;\n            status = _await$Location$reque.status;\n\n            if (!(status !== 'granted')) {\n              _context.next = 7;\n              break;\n            }\n\n            setErrorMsg('Permission to access location was denied');\n            return _context.abrupt(\"return\");\n\n          case 7:\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n          case 9:\n            location = _context.sent;\n            setLocation(location);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    getLocation();\n  }, []);\n  return {\n    location: location,\n    errorMsg: errorMsg\n  };\n};","map":{"version":3,"sources":["C:/Users/Memo/Documents/TicsExpo/MonitoreoDeClimaCostero/ExpoTics/src/hooks/useLocation.tsx"],"names":["useEffect","useState","Location","useLocation","location","setLocation","errorMsg","setErrorMsg","getLocation","requestForegroundPermissionsAsync","status","getCurrentPositionAsync"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,KAAKC,QAAZ,MAA0B,eAA1B;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC7B,kBAAgCF,QAAQ,CAAC,IAAD,CAAxC;AAAA;AAAA,MAAOG,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAAgCJ,QAAQ,CAAC,IAAD,CAAxC;AAAA;AAAA,MAAOK,QAAP;AAAA,MAAiBC,WAAjB;;AAEA,MAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACON,QAAQ,CAACO,iCAAT,EADP;;AAAA;AAAA;AACVC,YAAAA,MADU,yBACVA,MADU;;AAAA,kBAEZA,MAAM,KAAK,SAFC;AAAA;AAAA;AAAA;;AAGZH,YAAAA,WAAW,CAAC,0CAAD,CAAX;AAHY;;AAAA;AAAA;AAAA,6CAMKL,QAAQ,CAACS,uBAAT,CAAiC,EAAjC,CANL;;AAAA;AAMZP,YAAAA,QANY;AAOhBC,YAAAA,WAAW,CAACD,QAAD,CAAX;;AAPgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApB;;AAUAJ,EAAAA,SAAS,CAAC,YAAM;AACZQ,IAAAA,WAAW;AACd,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO;AACHJ,IAAAA,QAAQ,EAARA,QADG;AAEHE,IAAAA,QAAQ,EAARA;AAFG,GAAP;AAIH,CAtBM","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport * as Location from 'expo-location';\r\n\r\nexport const useLocation = () => {\r\n    const [location, setLocation] = useState(null);\r\n    const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n    const getLocation = async () => {\r\n        let { status } = await Location.requestForegroundPermissionsAsync();\r\n        if (status !== 'granted') {\r\n            setErrorMsg('Permission to access location was denied');\r\n            return;\r\n        }\r\n        let location = await Location.getCurrentPositionAsync({});\r\n        setLocation(location);\r\n    }\r\n\r\n    useEffect(() => {\r\n        getLocation();\r\n    }, []);\r\n\r\n    return {\r\n        location,\r\n        errorMsg,\r\n    }   \r\n}\r\n"]},"metadata":{},"sourceType":"module"}